# 第一部分：项目背景 (Project Background)

### 1. 产品定义

本项目是一个**量化策略跟投 SaaS 平台 (QuantMarket)**。
它不仅仅是一个数据看板，而是一个**“信号电商”**。我们将经过实盘验证的量化策略包装成商品，用户通过订阅（月付/年付）来获取**“实时买卖信号”**和**“当前持仓代码”**。

### 2. 核心痛点与解决方案

* **痛点 (Pain):** 散户想跟着量化赚钱，但不敢信黑盒策略（怕被割），又怕错过暴涨机会（FOMO）。
* **解决方案 (Solution):**
* 
**建立信任 (Trust):** 全透明展示**历史**已清仓的战绩，数据精确到秒，证明我们赢过 。


* 
**制造贪婪 (Greed):** 模糊展示**当前**持仓的浮盈（如红色 `+22.3%`），但隐藏具体代码。让用户看到“肉就在嘴边”，必须付费才能吃 。


* 
**防泄漏 (Security):** 通过严格的后端脱敏和时间模糊化，杜绝用户通过反推破解策略 。





### 3. 商业模式

* **Freemium (免费增值):**
* **免费用户:** 只能看“过去” (验证实力)。
* **付费用户:** 可以看“现在” (获取财富)。


* 
**转化逻辑:** 广场吸引 -> 详情页验证实力 -> 模糊持仓制造焦虑 -> 弹窗完成收割 。



---

# 第二部分：产品地图 (Product Map)

本产品由 **1 个流量入口**、**3 个核心功能页**、**1 个支付网关** 和 **1 套安全底座** 构成。

## 模块一：策略广场 (Strategy Marketplace) —— 流量分发

*用户旅程起点，类似电商的“首页货架”。*

* **核心功能：**
* 
**卡片式列表:** 垂直流布局，展示策略核心 KPI (CAGR, 胜率) 。


* 
**信号雷达 (Signal Radar):** 实时显示 `🔴 最新信号：今天 09:30`，利用 FOMO 吸引点击 。


* 
**具象化信任:** 底部滚动展示最近捕获的知名股票代码 (如“宁德时代”) 。




* **开发重点:**
* 列表的高性能渲染。
* “最新信号”状态的毫秒级实时更新 。





## 模块二：详情页 - 数据指标 (Data Metrics) —— 信任引擎

*详情页的落地 Tab，用于“法医级”的数据验证。*

* **核心功能：**
* 
**时间机器 (Side Nav):** 左侧年份筛选器，点击切换右侧所有图表数据 。


* 
**性能快照 (Snapshot):** 展示夏普比率、卡玛比率、盈亏比等专业因子 。


* 
**交互图表:** 收益走势图 (面积图) + 水下回撤图 (钟乳石图) 。


* 
**信号控制台:** 头部常驻的“实时信号直推”状态栏及订阅按钮 。




* **开发重点:**
* 图表库选型 (ECharts/Recharts)，需支持复杂的交互（十字光标联动）。
* 后端数据的动态聚合计算 (按年份筛选)。



## 模块三：详情页 - 交易记录 (Transaction History) —— 诱导陷阱

*核心转化页 A：利用“半遮半掩”制造信息差。*

* **核心功能：**
* **混合列表 (Mixed List):**
* 
**下半部 (公开行):** 历史已完结交易，全字段公开，精确到秒 。


* 
**上半部 (加密行):** 进行中交易，隐藏代码/价格，显示行业/浮盈 。




* 
**模糊时间戳:** 加密行时间仅显示范围 (如 `09:30-10:00`)，防反推 。


* 
**诱导按钮:** 加密行内嵌 `🔓 解锁` 按钮，点击触发弹窗 。




* **开发重点:**
* 
**后端脱敏 (重中之重):** 加密行的真实代码和价格**绝不能**传输给前端，必须在后端替换为 `null` 或脱敏字符 。





## 模块四：详情页 - 每日持仓 (Daily Holdings) —— 终极收割

*核心转化页 B：利用“橱窗效应”临门一脚。*

* **核心功能：**
* 
**零历史 (Zero History):** 仅展示**当前**持仓，严禁展示任何历史持仓数据 。


* 
**高斯模糊列表:** 模拟 5-8 行模糊数据，透出红色的高浮盈数字 。


* 
**转化遮罩 (Overlay):** 底部渐变遮罩 + 巨大的总浮盈数字 (`+22.3%`) + 解锁大按钮 。




* **开发重点:**
* 前端模糊渲染的视觉还原。
* 后端计算总浮盈 (Total P&L) 并返回，确保数字真实诱人 。





## 模块五：权益订阅弹窗 (Subscription Modal) —— 收银台

*全站通用的支付入口。*

* **核心功能：**
* 
**三栏价格锚定:** 免费版 (¥0) vs 本策略 (¥299) vs 全站通 (¥699) 。


* 
**动态上下文:** 根据触发源不同，动态选中“本策略”或“全站通” 。


* 
**支付集成:** 对接支付网关，处理回调及权益开通 。





---

# 第三部分：开发核心红线 (Critical Dev Rules)

为了确保产品的商业逻辑不被技术实现破坏，请开发团队严格遵守以下规则：

1. **后端防泄密原则 (No Leakage via API):**
* 在 `Transaction History` 和 `Daily Holdings` 接口中，如果用户未订阅，后端**必须**将 `symbol_code`, `exact_price`, `exact_time` 字段设为 `null` 或脱敏值。
* 
**严禁**将完整数据发给前端再用 CSS `display: none` 隐藏，这会被 F12 抓包破解 。




2. **时间模糊化逻辑:**
* 持仓中的订单时间，后端需处理为时间段字符串 (如 `"09:30-10:00"`) 返回，禁止返回精确 Unix 时间戳 。




3. **零历史原则:**
* 
`Daily Holdings` 页面接口**只能**返回 `status = holding` 的当前数据。严禁在此接口返回任何已卖出的历史数据，否则用户可推算出底仓 。




4. **真假混合渲染:**
* 即使代码被隐藏，`行业板块 (Sector)` 和 `盈亏比例 (P&L)` 必须是真实数据，以确保数据的合理性和诱惑力 。